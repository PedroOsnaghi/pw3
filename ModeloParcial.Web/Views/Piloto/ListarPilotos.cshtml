@model List<ModeloParcial.Datos.EF.Piloto>
@{
    ViewData["Title"] = "Lista de Pilotos";
}

<div class="text-center">
    <h1 class="h1">Lista de Pilotos</h1>

    <div class="card mx-auto w-75 mt-4 p-4 text-start">

        <form asp-action="ListarPilotos" method="post">
            <div class="form-group d-flex">
                <label class="col-md-2 control-label">Filtro:</label>
                <partial name="_pvComboEscuderia" />
                <input type="submit" value="Filtrar" class="btn btn-primary" />
            </div>
        </form>


        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Escuderia</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var piloto in Model)
                {
                    <tr>
                        <td>@piloto.NombrePiloto</td>
                        <td>@piloto.IdEscuderiaNavigation.NombreEscuderia</td>
                        <td>
                            <a asp-action="EliminarPiloto" asp-route-id="@piloto.IdPiloto" asp-route-idEscuderia="@ViewBag.EscuderiaSelectedId" class="btn btn-danger">Eliminar</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
